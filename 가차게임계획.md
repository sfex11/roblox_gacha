# Roblox LLM 연동 가차형 컬렉션 게임 기획서 (초안 개선본)

- 문서 목적: **외부 LLM을 활용해 “아이템 텍스트(이름/설명/플레이버)”를 생성**하되, **확률·밸런스·지급은 Roblox 서버가 100% 통제**하는 가차형 게임의 전체 흐름(UX/경제/운영/기술)을 한 장에서 정리합니다.
- 핵심 원칙(검증 결과):  
  1) **결과(아이템/희귀도/스탯)는 서버가 결정** → 공정성/정책 대응/악용 방지  
  2) LLM은 **“표현”만 생성**(이름/설명/로어/태그 제안) → 비용·안전·품질 관리 용이  
  3) 플레이어 입력은 **프리셋 중심** + (선택) 제한형 자유 입력 → 텍스트 안전/필터링 리스크 최소화

---

## 0) 시장/포지셔닝/경쟁대응/과금정책(요약, 2026-02-08 스냅샷)

> 이 섹션은 `로블록스_가차_시장조사.md`의 핵심만 “기획서에 바로 쓰기 좋게” 압축한 내용입니다.  
> 참고: 이 에이전트 실행 환경은 외부 웹 접근이 제한되어 있어, Visits/Favorites 같은 **실시간 수치**는 별도 수집(스크립트/수동 확인) 후 문서에 반영하는 것을 전제로 합니다.

### 0.1 시장 시그널(펫/컬렉션/아바타가 ‘메가 장르’)

- 펫/수집 대표: Adopt Me!, Pet Simulator 시리즈, Bee Swarm Simulator 등 “수집/동행” 문법이 상위권에서 반복적으로 검증
- 액세서리/룩 대표: Dress To Impress, Catalog Avatar Creator 등  
  → “꾸미기/과시/정체성” 욕구가 매우 크고, 펫 수집과 결합하기 좋은 시장

### 0.2 경쟁작에서 반복되는 ‘먹히는 문법’

- 초반 5분: 무료 뽑기/도감 진척/희귀도 연출로 연속 보상 → 즉시 몰입
- 중복 처리: 중복이 ‘실패’가 아니라 **강화/합성/교환 토큰**으로 진행도가 되게 설계
- 라이브 운영: 기간 한정 알/상자, 이벤트 재화, 출석/퀘스트로 DAU 유지
- 편의성 과금: 10연/자동 열기/연출 스킵/보관함 확장 등(단, 과금 압박으로 보이지 않게 조절 필요)
- 소셜 과시: 로비 전광판/프로필 카드/타이틀/포토존으로 자랑→바이럴

### 0.3 우리 게임의 권장 포지셔닝(후발주자 리스크 회피)

- “펫 해치”만으로는 경쟁이 과열 → **펫 + 액세서리(룩) + 도감 카드(서사)** 로 포지션을 잡는다.
- LLM은 밸런스가 아니라 **공유 가능한 수집의 재미**에 투자:
  - 뽑을 때마다 “이름/설명/짧은 로어”가 달라지는 도감 카드
  - 한국어 톤(귀여움/코믹/밈) 최적화 + 시즌 테마에 맞춘 문구 스타일 교체
- 메인 루프는 “짧은 협동 미니게임”으로 차별화:
  - 펫/룩 수집이 ‘보상’이라면, 협동 콘텐츠는 ‘플레이 이유’가 되게 구성

### 0.4 경쟁대응(운영/콘텐츠 파이프라인)

- 시즌 단위로: 테마(펫/액세서리 세트) + 이벤트 재화 + 픽업(선택) + 도감 보상까지 묶어서 운영
- “신규 획득” 경험을 강화:
  - 신규 1개 획득 시에도 카드/타이틀/프로필 장식 등 즉시 자랑 포인트 제공
- 지표 기반 운영:
  - 스킵 비율·폴백 비율·천장 도달률·세트 완성률로 경제/연출을 반복 튜닝

### 0.5 과금정책(한국 타겟: 투명성/리스크 최소화 우선)

- 기본 추천: **유료 랜덤 판매 의존도 낮추기**
  - 가차는 무료 티켓/소프트 재화 중심
  - Robux 과금은 배틀패스/구독/VIP/편의성/직접구매(번들) 위주
- 유료 랜덤(“Paid Random Items”)을 제공한다면(필수 체크리스트):
  - **확률(odds) 공개**를 구매 전/게임 내 상시 제공
  - **PolicyService 기반 ‘구매 가능 사용자’만** 거래 가능하도록 처리
  - 아이템을 **현금/Robux 가치로 거래·이전**하도록 유도/조장하지 않기(설계·UI·운영 전반)
  - **보상형 광고(Rewarded Ads)** 는 “랜덤 아이템” 보상 금지(보상은 사전 결정된 형태여야 함)
- 한국 사용자 대상 신뢰 장치:
  - 확률표 상시 노출 + 천장/교환(가능하면) + 중복 보상(진행도화)

---

## 1) 게임 콘셉트 개요

- 장르: 소셜 허브 + 협동 미니게임(Raid/TD/보스) + 컬렉션/도감 + 가차
- 한 줄 요약:  
  “가차로 얻은 아이템을 장착해 협동 콘텐츠를 돌고 재화를 모아 다시 가차하는 **수집·세트 완성형** 게임. 아이템의 **이름/설명은 AI가 매번 다르게 꾸며준다**.”

### 핵심 재미(USP)

- **소셜 공유성**: ‘나만의’ 아이템 명칭/로어를 뽑고 로비에서 자랑(프로필 카드, 전광판, 이모트 연동)
- **수집 완성 재미**: 테마/시즌별 세트, 도감, 컬렉션 보상(타이틀/배지/로비 꾸미기)
- **반복 플레이 동기**: 일일 티켓 + 퀘스트 + 이벤트로 “무료→일반→프리미엄” 자연스러운 사다리

---

## 2) 핵심 루프 & UX 플로우

### 2.1 코어 루프(30–180초)

1. 미니게임(레이드/TD/보스) 참여  
2. 재화/티켓 획득  
3. 가차 실행(연출/결과)  
4. 장착/강화/세트 진행 → 다시 미니게임

### 2.2 로비(허브) 경험

- 중앙 오브젝트: **AI 소환기(가차 머신)**  
  - 주변에 플레이어가 모이도록 동선 설계(포토존/전광판/랭킹/이벤트 NPC)
- 시즌/이벤트:  
  - 주간 테마(예: Cyber / Fairy / Space)로 **가차 풀 + LLM 텍스트 톤**을 함께 교체

### 2.3 가차 실행 플로우(권장 UX)

0) (선택) “10연/1연”, “연출 스킵”, “확률 보기” 진입점을 명확히 제공  

1) 가차 유형 선택
- **무료 티켓**(일일 1–3회 + 퀘스트 보상)
- **일반 가차**(플레이 재화)
- **프리미엄 가차**(Robux/유료 재화)  
  - 전제: Roblox 정책/가이드라인에 맞는 확률 공개, 구매 UX, 미성년 보호를 우선 고려

2) 테마 선택(입력 UX)
- 기본: 프리셋 카드(“사이버 무기”, “귀여운 펫”, “우주 코스튬”, “장난감(물리)” 등)
- 고급(선택): **제한형 프롬프트**  
  - 예: 키워드 1–3개(색/속성/무드) + 금칙어/개인정보 차단  
  - 자유 입력을 허용하더라도 **백엔드에서 강한 정규화/화이트리스트** 권장

3) “롤(확률) 결정”과 “AI 텍스트 생성”을 분리
- 서버가 즉시: **희귀도/아이템 템플릿 ID를 확정**(공정성/재시도 악용 방지)
- LLM이 이후: 해당 템플릿에 붙는 **표현 텍스트**(이름/설명/로어)를 생성

4) 연출
- 캡슐/상자 → 희귀도 티저(브론즈/실버/골드/레인보우) → 아이템 등장
- 생성 지연이 있으면:  
  - (권장) 먼저 희귀도/카테고리 공개 → “이름 생성 중…” → 0.5–2초 내 텍스트 업데이트  
  - 타임아웃 시 폴백 텍스트로 즉시 공개(운영 안정성)

5) 지급/인벤토리/도감
- 신규: 획득 카드 + 도감 등록 + “세트 진행도” 바로 노출
- 중복: 자동 전환(강화 재료/합성 재료/상점 포인트) + “다음 중복 보상” 안내

---

## 3) 콘텐츠 설계: 아이템/도감/세트/성장

### 3.1 아이템 카테고리(예시)

- 무기: 검/활/완드(스킨 + 제한된 스탯 범위 + 스킬 이펙트)
- 펫: 동행 + 편의 버프(이동속도, 코인 획득, 드랍 증가 등)
- 코스튬: 아바타/트레일/오라/이모트(전투 영향 최소화 권장)
- 유틸: 미니게임 한정 소모품(버프 포션 등)

### 3.2 “템플릿 매핑” 방식(LLM 통제)

- 서버는 **사전에 정의된 템플릿 풀**을 가진다.
  - 예: `TemplateId=WEAPON_SWORD_FIRE_EPIC_03`
  - 템플릿에: 외형(모델/이펙트), 스탯 범위, 밸런스 계수, 드랍풀 소속, 제작/강화 규칙
- LLM은 템플릿에 붙는 텍스트만 생성한다.
  - 결과: 플레이어 체감은 “유니크한 AI 아이템”이지만 실제 게임 밸런스는 유지

### 3.3 도감 & 세트 보상

- 테마별 세트(사이버/동화/우주 등) 완성 보상:
  - 타이틀/프로필 카드/로비 배경/전광판 연출/이모트
  - 전투 영향 보상은 최소화(과금 압박/밸런스 붕괴 리스크 감소)

### 3.4 성장(권장)

- 강화: 중복/재료로 강화(강화 수치에 상한/감쇠 적용)
- 천장/보호 장치(프리미엄 중심):
  - n회 미획득 시 상위 희귀도 확정, 혹은 “픽업 포인트”로 교환
  - 가차 스트레스 완화 + 유지/전환에 도움

---

## 4) 가차 시스템 설계(정책/밸런스 관점)

> 주의: Roblox의 정책·가이드라인은 변경될 수 있으므로 **출시 직전 공식 문서 기준으로 체크리스트를 재검증**해야 합니다.

### 4.1 희귀도 & 확률(예시)

- 희귀도: Common / Rare / Epic / Legendary / Mythic
- 확률 테이블(서버 고정, 예시):
  - Common 60%
  - Rare 25%
  - Epic 10%
  - Legendary 4%
  - Mythic 1%

권장 UX/운영 원칙
- **확률/구성/픽업 여부를 UI에서 쉽게 확인** 가능하게 제공
- 클라이언트가 아닌 **서버가 단일 진실 공급원(SSOT)** 으로 확률과 결과를 결정
- 유료 상품은 특히: 구매 흐름, 환불/이슈 대응, 연령대 고려를 보수적으로 설계
- (유료 랜덤 제공 시) **PolicyService 자격 제한**, **가치 거래 유도 금지**, **보상형 광고 랜덤 보상 금지**까지 포함해 정책 체크리스트로 관리

### 4.2 재화 구조(예시)

- 소프트 재화(코인): 플레이로 획득 → 일반 가차
- 하드 재화(보석): Robux 구매 → 프리미엄 가차
- 무료 티켓: 출석/퀘스트/이벤트

경제 설계 체크
- 일일/주간 “무료→유료 전환”은 **완만하게**, 과도한 압박 금지
- 아이템이 현금 가치로 거래/현금화되지 않도록(설계·UI·운영) 방지

---

## 5) LLM 연동 구조 & 기술 설계(개념)

### 5.1 권장 아키텍처(권한/보안)

```
[Client] --(RemoteEvent)--> [Roblox Server] --(HttpService)--> [Backend API] --(Provider SDK)--> [LLM]
   ^                               |                              |
   |                               +--> DataStore/Inventory        +--> Cache/Moderation/Logs
   +-------------------------------(replication to UI)-------------+
```

핵심 원칙
- **클라이언트에서 직접 LLM 호출 금지**(키 유출/변조)
- Roblox 서버는 결과 지급을 담당(신뢰 경계)
- 백엔드는:
  - API 키 보관
  - 요청 인증/서명 검증
  - 프롬프트 정규화/필터링
  - 캐시/레이트리밋/로깅

### 5.2 “롤 결과”의 결정 위치(중요)

- 권장: **Roblox 서버가 먼저 뽑기 결과(템플릿/희귀도)를 확정**  
  - 이유: 공정성(재시도/타임아웃 악용 방지), 정책 대응, 밸런스 통제
- LLM은 해당 템플릿에 대한 **표현 텍스트 생성기**로만 사용

### 5.3 요청/응답 포맷(권장 스키마)

Roblox 서버 → 백엔드(예시)
- `requestId`(idempotency), `userId`, `templateId`, `rarity`, `themeTag`, `locale`
- (선택) `keywords`(화이트리스트 기반), `tone`(cute/dark/heroic 등 제한 목록)

백엔드 → LLM(예시 프롬프트 정책)
- “아래 템플릿 ID의 아이템에 어울리는 **짧은 이름/설명/플레이버 텍스트**를 JSON으로 생성”
- 제한:
  - 욕설/선정/혐오/폭력 조장/자해/개인정보/정치 선동/도박·현금 가치 암시 금지
  - 실존 브랜드/유명인/저작권 캐릭터/특정 IP 모사 지양(분쟁 리스크)
  - 길이 제한(예: name 20자, description 120자, flavor 80자)

백엔드 ← LLM(예시)
```json
{
  "name": "디버거의 홍염검",
  "description": "불꽃 로그가 새겨진 검. 적을 베면 잔상에 코드가 남는다.",
  "flavorText": "버그는 불태워야 한다.",
  "tagsSuggested": ["weapon", "fire", "cyber"]
}
```

서버 검증/정규화
- JSON 파싱 실패/금칙어 탐지/길이 초과 → 즉시 폴백 텍스트 사용
- `tagsSuggested`는 참고만 하고, 실제 분류는 서버의 `templateId`로 확정

### 5.4 캐시/비용/레이턴시 전략

- 기본: “템플릿ID+locale+theme+키워드” 단위로 캐시
- 프리미엄만 LLM 적용(일반은 프리셋 텍스트) 또는
- **선생성(오프라인 배치)**: 시즌 시작 전에 템플릿별 텍스트를 미리 뽑아 저장 → 실시간 호출 최소화

### 5.5 장애/폴백(필수)

- LLM 장애/타임아웃 시:
  - 프리셋 텍스트로 즉시 대체
  - 사용자에게 “AI 문구 생성 실패” 같은 기술 문구 노출 금지(UX 깨짐)
- 백엔드 장애 시:
  - 가차 자체는 서버에서 정상 진행(결과 지급은 유지)
  - 텍스트만 기본값으로 처리

---

## 6) 안전/필터링/운영(핵심 리스크와 대응)

### 6.1 텍스트 안전

- **Roblox TextFilter**(또는 TextService 기반 필터링)를 최종 관문으로 적용
- LLM 결과는 “신뢰 불가 입력”으로 간주:
  - 금칙어/민감 주제/개인정보 패턴 검사
  - 길이/문자셋/이모지 제한
  - 동일 사용자 반복 호출 레이트리밋(악성 입력/비용 폭탄 방지)

### 6.2 모더레이션/운영 장치

- “아이템 텍스트 신고” 버튼(간단 카테고리)
- 서버 로그:
  - requestId, templateId, 생성 텍스트, 필터 결과, 사용자/세션, 생성 모델 버전
- 핫픽스:
  - 금칙어 리스트/테마 프롬프트/폴백 문구를 **라이브 운영 중 교체** 가능하도록 구성

### 6.3 악용 방지(가차/네트워크)

- 클라이언트 입력은 절대 신뢰하지 않기:
  - 가차 실행/지급은 서버에서만
- idempotency:
  - 같은 `requestId`로 중복 지급 방지
- 백엔드 요청 인증:
  - 공유 시크릿 기반 서명, 또는 짧은 만료 토큰 사용(리플레이 공격 방지)

---

## 7) 개발 단계 로드맵(현실적인 MVP → 라이브)

### Phase 0: MVP(LLM 없이도 재미가 성립)

- 가차 확률/풀/연출
- 인벤토리/장착/도감/세트 보상
- 협동 미니게임 1종(짧고 반복 가능한 구조)

### Phase 1: 백엔드/LLM 연동(표현만)

- Backend API(인증/레이트리밋/캐시/로그)
- LLM로 이름/설명/플레이버 생성 + Roblox 필터 적용
- 폴백/타임아웃/장애 대응 완성

### Phase 2: 프롬프트 튜닝 & 시즌 운영

- 테마별 톤 가이드(“귀여움/영웅담/코믹/다크” 등) 정제
- 한국어/영어 로캘 대응
- 세트/픽업/천장/교환 시스템 고도화

### Phase 3: 출시 전 체크리스트

- 확률/상품 고지 UI 정리
- 안전/모더레이션 운영 프로세스(신고→대응)
- 경제 밸런스(초반 온보딩/과금 압박/리텐션)

---

## 8) 오픈 이슈(결정 필요)

- 프롬프트 입력을 “완전 자유 입력”까지 허용할지(권장: 제한형)
- 프리미엄 가차의 천장/교환 설계(유저 신뢰에 직결)
- 아이템이 전투에 미치는 영향 수준(P2W 리스크)
- LLM 텍스트가 필터로 과도하게 마스킹될 때의 재생성/폴백 정책

---

## (부록) 권장 운영 지표(간단)

- UX: 가차 실행→결과 노출까지 평균 시간, 스킵 비율, 실패/폴백 비율
- 경제: 무료 티켓 사용률, 소프트/하드 재화 소모, 천장 도달률
- 리텐션: D1/D7, 일일 퀘스트 완수율, 세트 완성률
